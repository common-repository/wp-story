{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"jQuery\"","webpack:///./node_modules/zuck.js/src/zuck.js","webpack:///./src/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","jQuery","window","query","qs","document","querySelectorAll","array","what","each","arr","func","total","length","setVendorVariable","ref","variable","variables","toLowerCase","val","addVendorEvents","el","event","events","addEventListener","onAnimationEnd","prepend","parent","child","firstChild","insertBefore","appendChild","ZuckJS","timeline","options","zuck","this","option","prop","type","optionsDefault","fullScreen","elem","cancel","elFunc","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","exitFullscreen","catch","mozCancelFullScreen","e","console","warn","translate","element","to","duration","ease","direction","to3d","Math","abs","offsetWidth","scaling","style","transform","findPos","obj","offsetY","offsetX","stop","curleft","curtop","offsetParent","offsetLeft","offsetTop","getElementById","id","setAttribute","random","toString","substr","timeAgo","time","Number","dateObj","Date","dateStr","getTime","seconds","language","formats","minute","minutes","hour","hours","yesterday","days","currentFormat","result","formatKey","format","floor","getDate","getMonth","getFullYear","rtl","skin","avatars","stories","backButton","backNative","paginationArrows","previousTap","autoFullScreen","openEffect","cubeEffect","list","localStorage","callbacks","onOpen","storyId","callback","onView","onEnd","onClose","onNextItem","nextStoryId","onNavigateItem","template","timelineItem","itemData","reserved","attributes","dataKey","indexOf","viewerItem","storyData","currentStoryItem","viewerItemPointer","index","currentIndex","item","viewerItemBody","unmute","keyboardTip","visitLink","ago","fromnow","tomorrow","modal","modalZuckContainer","hasModal","createElement","className","innerHTML","display","onkeyup","keyCode","code","close","next","classList","add","contains","modalContent","remove","transitionEndEvent","body","moveStoryItem","modalContainer","target","useless","modalSlider","slideItems","previous","viewing","slideWidth","setTimeout","tmp","currentStory","getAttribute","internalData","oldStory","parentNode","removeChild","newStoryData","getStoryMorningGlory","createStoryViewer","items","firstElementChild","data","currentItem","parseInt","cssText","nextItem","storyViewer","playVideoItem","transitionTime","forcePlay","storyItems","htmlItems","pointerItems","slides","seen","video","querySelector","addMuted","muted","onwaiting","paused","onplay","onload","onplaying","oncanplay","onvolumechange","storyViewerWrap","onclick","preventDefault","page","modalSliderElement","position","touchOffset","isScrolling","delta","timer","nextTimer","touchStart","nodeName","touches","pos","slideHeight","offsetHeight","x","y","clientX","clientY","now","valid","undefined","touchMove","touchEnd","pauseVideoItem","clearInterval","lastTouchOffset","isValid","isOutOfBounds","removeEventListener","currentVideoElement","navigateItem","screen","availWidth","storyViewerViewing","unmuteVideoItem","createStoryTouchEvents","location","hash","previousItemData","nextItemData","tryFullScreen","focus","storyEl","marginLeft","marginTop","lastStory","lastStoryTimelineElement","seenItems","saveLocalData","updateStorySeenPosition","ZuckModal","parseStory","story","returnCallback","photo","innerText","link","lastUpdated","noItems","show","whatElementYouMean","foundStory","newData","update","elements","itemElement","itemPointer","cur","pause","getElementsByTagName","setDuration","play","volume","removeAttribute","keyName","JSON","stringify","getLocalData","parse","append","preview","currentPreview","storyItem","addItem","li","forceUpdate","a","img","src","linkText","all","z","replace","nodeValue","push","parseItems","removeItem","itemId","directionNumber","currentItemElements","currentPointer","currentItemElement","nextItems","nextPointer","navigateItemCallback","storyIndex","keys","keyIndex","itemKey","init","buildTimelineItem","itemIndex","itemArgs","buildStoryItem","apply","buildItem","$","ready","width","niceScroll","cursorcolor","cursorwidth","cursorborder","emulatetouch","cursordragontouch","scrollbarid","storyBody","fetch","wpStoryObject","homeUrl","then","res","json","Zuck","addClass","removeClass","lang","new_tab","buildStory","err"],"mappings":"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","file":"wp-story.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = jQuery;","/*\n    zuck.js\n    https://github.com/ramon82/zuck.js\n    MIT License\n*/\nmodule.exports = (window => {\n  /* Utilities */\n  const query = function (qs) {\n    return document.querySelectorAll(qs)[0];\n  };\n\n  const get = function (array, what) {\n    if (array) {\n      return array[what] || '';\n    } else {\n      return '';\n    }\n  };\n\n  const each = function (arr, func) {\n    if (arr) {\n      const total = arr.length;\n\n      for (let i = 0; i < total; i++) {\n        func(i, arr[i]);\n      }\n    }\n  };\n\n  const setVendorVariable = function (ref, variable, value) {\n    const variables = [\n      variable.toLowerCase(),\n      `webkit${variable}`,\n      `MS${variable}`,\n      `o${variable}`\n    ];\n\n    each(variables, (i, val) => {\n      ref[val] = value;\n    });\n  };\n\n  const addVendorEvents = function (el, func, event) {\n    const events = [\n      event.toLowerCase(),\n      `webkit${event}`,\n      `MS${event}`,\n      `o${event}`\n    ];\n\n    each(events, (i, val) => {\n      el.addEventListener(val, func, false);\n    });\n  };\n\n  const onAnimationEnd = function (el, func) {\n    addVendorEvents(el, func, 'AnimationEnd');\n  };\n\n  const onTransitionEnd = function (el, func) {\n    if (!el.transitionEndEvent) {\n      el.transitionEndEvent = true;\n\n      addVendorEvents(el, func, 'TransitionEnd');\n    }\n  };\n\n  const prepend = function (parent, child) {\n    if (parent.firstChild) {\n      parent.insertBefore(child, parent.firstChild);\n    } else {\n      parent.appendChild(child);\n    }\n  };\n\n  const generateId = () => {\n    return 'stories-' + Math.random().toString(36).substr(2, 9);\n  };\n\n  /* Zuckera */\n  const ZuckJS = function (timeline, options) {\n    const zuck = this;\n    const option = function (name, prop) {\n      const type = function (what) {\n        return typeof what !== 'undefined';\n      };\n\n      if (prop) {\n        if (type(options[name])) {\n          return type(options[name][prop])\n            ? options[name][prop]\n            : optionsDefault[name][prop];\n        } else {\n          return optionsDefault[name][prop];\n        }\n      } else {\n        return type(options[name]) ? options[name] : optionsDefault[name];\n      }\n    };\n\n    const fullScreen = function (elem, cancel) {\n      const func = 'RequestFullScreen';\n      const elFunc = 'requestFullScreen'; // crappy vendor prefixes.\n\n      try {\n        if (cancel) {\n          if (\n            document.fullscreenElement ||\n            document.webkitFullscreenElement ||\n            document.mozFullScreenElement ||\n            document.msFullscreenElement\n          ) {\n            if (document.exitFullscreen) {\n              document.exitFullscreen()\n                .catch(() => {});\n            } else if (document.mozCancelFullScreen) {\n              document.mozCancelFullScreen()\n                .catch(() => {});\n            } else if (document.mozCancelFullScreen) {\n              document.mozCancelFullScreen()\n                .catch(() => {});\n            }\n          }\n        } else {\n          if (elem[elFunc]) {\n            elem[elFunc]();\n          } else if (elem[`ms${func}`]) {\n            elem[`ms${func}`]();\n          } else if (elem[`moz${func}`]) {\n            elem[`moz${func}`]();\n          } else if (elem[`webkit${func}`]) {\n            elem[`webkit${func}`]();\n          }\n        }\n      } catch (e) {\n        console.warn('[Zuck.js] Can\\'t access fullscreen');\n      }\n    };\n\n    const translate = function (element, to, duration, ease) {\n      const direction = to > 0 ? 1 : -1;\n      const to3d = (Math.abs(to) / query('#zuck-modal').offsetWidth) * 90 * direction;\n\n      if (option('cubeEffect')) {\n        const scaling = to3d === 0 ? 'scale(0.95)' : 'scale(0.930,0.930)';\n\n        setVendorVariable(\n          query('#zuck-modal-content').style,\n          'Transform',\n          scaling\n        );\n\n        if (to3d < -90 || to3d > 90) {\n          return false;\n        }\n      }\n\n      const transform = !option('cubeEffect')\n        ? `translate3d(${to}px, 0, 0)`\n        : `rotateY(${to3d}deg)`;\n\n      if (element) {\n        setVendorVariable(element.style, 'TransitionTimingFunction', ease);\n        setVendorVariable(element.style, 'TransitionDuration', `${duration}ms`);\n        setVendorVariable(element.style, 'Transform', transform);\n      }\n    };\n\n    const findPos = function (obj, offsetY, offsetX, stop) {\n      let curleft = 0;\n      let curtop = 0;\n\n      if (obj) {\n        if (obj.offsetParent) {\n          do {\n            curleft += obj.offsetLeft;\n            curtop += obj.offsetTop;\n\n            if (obj === stop) {\n              break;\n            }\n          } while ((obj = obj.offsetParent));\n        }\n\n        if (offsetY) {\n          curtop = curtop - offsetY;\n        }\n\n        if (offsetX) {\n          curleft = curleft - offsetX;\n        }\n      }\n\n      return [curleft, curtop];\n    };\n\n    if (typeof timeline === 'string') {\n      timeline = document.getElementById(timeline);\n    }\n\n    if (!timeline.id) {\n      timeline.setAttribute('id', generateId());\n    }\n\n    const timeAgo = function (time) {\n      time = Number(time) * 1000;\n\n      const dateObj = new Date(time);\n      const dateStr = dateObj.getTime();\n      let seconds = (new Date().getTime() - dateStr) / 1000;\n\n      const language = option('language', 'time');\n\n      const formats = [\n        [60, ` ${language.seconds}`, 1], // 60\n        [120, `1 ${language.minute}`, ''], // 60*2\n        [3600, ` ${language.minutes}`, 60], // 60*60, 60\n        [7200, `1 ${language.hour}`, ''], // 60*60*2\n        [86400, ` ${language.hours}`, 3600], // 60*60*24, 60*60\n        [172800, ` ${language.yesterday}`, ''], // 60*60*24*2\n        [604800, ` ${language.days}`, 86400]\n      ];\n\n      let currentFormat = 1;\n      if (seconds < 0) {\n        seconds = Math.abs(seconds);\n\n        currentFormat = 2;\n      }\n\n      let result = false;\n      each(formats, (formatKey, format) => {\n        if (seconds < format[0] && !result) {\n          if (typeof format[2] === 'string') {\n            result = format[currentFormat];\n          } else if (format !== null) {\n            result = Math.floor(seconds / format[2]) + format[1];\n          }\n        }\n      });\n\n      if (!result) {\n        const day = dateObj.getDate();\n        const month = dateObj.getMonth();\n        const year = dateObj.getFullYear();\n\n        return `${day}/${month + 1}/${year}`;\n      } else {\n        return result;\n      }\n    };\n\n    /* options */\n    const id = timeline.id;\n    const optionsDefault = {\n      rtl: false,\n      skin: 'snapgram',\n      avatars: true,\n      stories: [],\n      backButton: true,\n      backNative: false,\n      paginationArrows: false,\n      previousTap: true,\n      autoFullScreen: false,\n      openEffect: true,\n      cubeEffect: false,\n      list: false,\n      localStorage: true,\n      callbacks: {\n        onOpen: function (storyId, callback) {\n          callback();\n        },\n        onView: function (storyId) {},\n        onEnd: function (storyId, callback) {\n          callback();\n        },\n        onClose: function (storyId, callback) {\n          callback();\n        },\n        onNextItem: function (storyId, nextStoryId, callback) {\n          callback();\n        },\n        onNavigateItem: function (storyId, nextStoryId, callback) {\n          callback();\n        }\n      },\n      template: {\n        timelineItem (itemData) {\n          return `\n            <div class=\"story ${get(itemData, 'seen') === true ? 'seen' : ''}\">\n              <a class=\"item-link\" href=\"${get(itemData, 'link')}\">\n                <span class=\"item-preview\">\n                  <img lazy=\"eager\" src=\"${\n                    (option('avatars') || !get(itemData, 'currentPreview'))\n                    ? get(itemData, 'photo')\n                    : get(itemData, 'currentPreview')\n                  }\" />\n                </span>\n                <span class=\"info\" itemProp=\"author\" itemScope itemType=\"http://schema.org/Person\">\n                  <strong class=\"name\" itemProp=\"name\">${get(itemData, 'name')}</strong>\n                  <span class=\"time\">${get(itemData, 'lastUpdatedAgo')}</span>\n                </span>\n              </a>\n              \n              <ul class=\"items\"></ul>\n            </div>`;\n        },\n\n        timelineStoryItem (itemData) {\n          const reserved = ['id', 'seen', 'src', 'link', 'linkText', 'time', 'type', 'length', 'preview'];\n          let attributes = `\n            href=\"${get(itemData, 'src')}\"\n            data-link=\"${get(itemData, 'link')}\"\n            data-linkText=\"${get(itemData, 'linkText')}\"\n            data-time=\"${get(itemData, 'time')}\"\n            data-type=\"${get(itemData, 'type')}\"\n            data-length=\"${get(itemData, 'length')}\"\n          `;\n\n          for (const dataKey in itemData) {\n            if (reserved.indexOf(dataKey) === -1) {\n              attributes += ` data-${dataKey}=\"${itemData[dataKey]}\"`;\n            }\n          }\n\n          return `<a ${attributes}>\n                    <img loading=\"auto\" src=\"${get(itemData, 'preview')}\" />\n                  </a>`;\n        },\n\n        viewerItem (storyData, currentStoryItem) {\n          return `<div class=\"story-viewer\">\n                    <div class=\"head\">\n                      <div class=\"left\">\n                        ${option('backButton') ? '<a class=\"back\">&lsaquo;</a>' : ''}\n\n                        <span class=\"item-preview\">\n                          <img lazy=\"eager\" class=\"profilePhoto\" src=\"${get(storyData, 'photo')}\" />\n                        </span>\n\n                        <div class=\"info\">\n                          <strong class=\"name\">${get(storyData, 'name')}</strong>\n                          <span class=\"time\">${get(storyData, 'timeAgo')}</span>\n                        </div>\n                      </div>\n\n                      <div class=\"right\">\n                        <span class=\"time\">${get(currentStoryItem, 'timeAgo')}</span>\n                        <span class=\"loading\"></span>\n                        <a class=\"close\" tabIndex=\"2\">&times;</a>\n                      </div>\n                    </div>\n\n                    <div class=\"slides-pointers\">\n                      <div class=\"wrap\"></div>\n                    </div>\n\n                    ${\n                      option('paginationArrows')\n                      ? `<div class=\"slides-pagination\">\n                          <span class=\"previous\">&lsaquo;</span>\n                          <span class=\"next\">&rsaquo;</span>\n                        </div>`\n                      : ''\n                    }\n                  </div>`;\n        },\n\n        viewerItemPointer (index, currentIndex, item) {\n          return `<span \n                    class=\"${currentIndex === index ? 'active' : ''} ${get(item, 'seen') === true ? 'seen' : ''}\"\n                    data-index=\"${index}\" data-item-id=\"${get(item, 'id')}\">\n                      <b style=\"animation-duration:${get(item, 'length') === '' ? '3' : get(item, 'length')}s\"></b>\n                  </span>`;\n        },\n\n        viewerItemBody (index, currentIndex, item) {\n          return `<div \n                    class=\"item ${get(item, 'seen') === true ? 'seen' : ''} ${currentIndex === index ? 'active' : ''}\"\n                    data-time=\"${get(item, 'time')}\" data-type=\"${get(item, 'type')}\" data-index=\"${index}\" data-item-id=\"${get(item, 'id')}\">\n                    ${\n                      get(item, 'type') === 'video'\n                      ? `<video class=\"media\" muted webkit-playsinline playsinline preload=\"auto\" src=\"${get(item, 'src')}\" ${get(item, 'type')}></video>\n                        <b class=\"tip muted\">${option('language', 'unmute')}</b>`\n                      : `<img loading=\"auto\" class=\"media\" src=\"${get(item, 'src')}\" ${get(item, 'type')} />\n                    `}\n\n                    ${\n                      get(item, 'link')\n                      ? `<a class=\"tip link\" href=\"${get(item, 'link')}\" rel=\"noopener\" target=\"_blank\">\n                            ${!get(item, 'linkText') || get(item, 'linkText') === '' ? option('language', 'visitLink') : get(item, 'linkText')}\n                          </a>`\n                      : ''\n                    }\n                  </div>`;\n        }\n      },\n      language: {\n        unmute: 'Touch to unmute',\n        keyboardTip: 'Press space to see next',\n        visitLink: 'Visit link',\n        time: {\n          ago: 'ago',\n          hour: 'hour ago',\n          hours: 'hours ago',\n          minute: 'minute ago',\n          minutes: 'minutes ago',\n          fromnow: 'from now',\n          seconds: 'seconds ago',\n          yesterday: 'yesterday',\n          tomorrow: 'tomorrow',\n          days: 'days ago'\n        }\n      }\n    };\n\n    /* modal */\n    const ZuckModal = () => {\n      let modalZuckContainer = query('#zuck-modal');\n\n      if (!modalZuckContainer && !zuck.hasModal) {\n        zuck.hasModal = true;\n\n        modalZuckContainer = document.createElement('div');\n        modalZuckContainer.id = 'zuck-modal';\n\n        if (option('cubeEffect')) {\n          modalZuckContainer.className = 'with-cube';\n        }\n\n        modalZuckContainer.innerHTML = '<div id=\"zuck-modal-content\"></div>';\n        modalZuckContainer.style.display = 'none';\n\n        modalZuckContainer.setAttribute('tabIndex', '1');\n        modalZuckContainer.onkeyup = ({ keyCode }) => {\n          const code = keyCode;\n\n          if (code === 27) {\n            modal.close();\n          } else if (code === 13 || code === 32) {\n            modal.next();\n          }\n        };\n\n        if (option('openEffect')) {\n          modalZuckContainer.classList.add('with-effects');\n        }\n\n        if (option('rtl')) {\n          modalZuckContainer.classList.add('rtl');\n        }\n\n        onTransitionEnd(modalZuckContainer, () => {\n          if (modalZuckContainer.classList.contains('closed')) {\n            modalContent.innerHTML = '';\n            modalZuckContainer.style.display = 'none';\n            modalZuckContainer.classList.remove('closed');\n            modalZuckContainer.classList.remove('animated');\n          }\n        });\n\n        document.body.appendChild(modalZuckContainer);\n      }\n\n      const modalContent = query('#zuck-modal-content');\n\n      const moveStoryItem = function (direction) {\n        const modalContainer = query('#zuck-modal');\n\n        let target = '';\n        let useless = '';\n        let transform = 0;\n\n        const modalSlider = query(`#zuck-modal-slider-${id}`);\n        const slideItems = {\n          previous: query('#zuck-modal .story-viewer.previous'),\n          next: query('#zuck-modal .story-viewer.next'),\n          viewing: query('#zuck-modal .story-viewer.viewing')\n        };\n\n        if (\n          (!slideItems.previous && !direction) ||\n            (!slideItems.next && direction)\n        ) {\n          if (!option('rtl')) {\n            return false;\n          }\n        }\n\n        if (!direction) {\n          target = 'previous';\n          useless = 'next';\n        } else {\n          target = 'next';\n          useless = 'previous';\n        }\n\n        const transitionTime = 600;\n        if (option('cubeEffect')) {\n          if (target === 'previous') {\n            transform = modalContainer.slideWidth;\n          } else if (target === 'next') {\n            transform = modalContainer.slideWidth * -1;\n          }\n        } else {\n          transform = findPos(slideItems[target])[0] * -1;\n        }\n\n        translate(modalSlider, transform, transitionTime, null);\n\n        setTimeout(() => {\n          // set page data when transition complete\n          if (option('rtl')) {\n            const tmp = target;\n            target = useless;\n            useless = tmp;\n          }\n\n          if (target !== '' && slideItems[target] && useless !== '') {\n            const currentStory = slideItems[target].getAttribute('data-story-id');\n            zuck.internalData.currentStory = currentStory;\n\n            const oldStory = query(`#zuck-modal .story-viewer.${useless}`);\n            if (oldStory) {\n              oldStory.parentNode.removeChild(oldStory);\n            }\n\n            if (slideItems.viewing) {\n              slideItems.viewing.classList.add('stopped');\n              slideItems.viewing.classList.add(useless);\n              slideItems.viewing.classList.remove('viewing');\n            }\n\n            if (slideItems[target]) {\n              slideItems[target].classList.remove('stopped');\n              slideItems[target].classList.remove(target);\n              slideItems[target].classList.add('viewing');\n            }\n\n            const newStoryData = getStoryMorningGlory(target);\n            if (newStoryData) {\n              createStoryViewer(newStoryData, target);\n            }\n\n            const storyId = zuck.internalData.currentStory;\n            let items = query(`#zuck-modal [data-story-id=\"${storyId}\"]`);\n\n            if (items) {\n              items = items.querySelectorAll('[data-index].active');\n              const duration = items[0].firstElementChild;\n\n              zuck.data[storyId].currentItem = parseInt(\n                items[0].getAttribute('data-index'),\n                10\n              );\n\n              items[0].innerHTML =\n                  `<b style=\"${duration.style.cssText}\"></b>`;\n              onAnimationEnd(items[0].firstElementChild, () => {\n                zuck.nextItem(false);\n              });\n            }\n\n            translate(modalSlider, '0', 0, null);\n\n            if (items) {\n              const storyViewer = query(`#zuck-modal .story-viewer[data-story-id=\"${currentStory}\"]`);\n\n              playVideoItem(storyViewer, [items[0], items[1]], true);\n            }\n\n            option('callbacks', 'onView')(zuck.internalData.currentStory);\n          }\n        }, transitionTime + 50);\n      };\n\n      const createStoryViewer = function (storyData, className, forcePlay) {\n        const modalSlider = query(`#zuck-modal-slider-${id}`);\n        const storyItems = get(storyData, 'items');\n\n        storyData.timeAgo = storyItems && storyItems[0] ? timeAgo(get(storyItems[0], 'time')) : '';\n\n        let htmlItems = '';\n        let pointerItems = '';\n\n        const storyId = get(storyData, 'id');\n        const slides = document.createElement('div');\n        const currentItem = get(storyData, 'currentItem') || 0;\n        const exists = query(`#zuck-modal .story-viewer[data-story-id=\"${storyId}\"]`);\n\n        if (exists) {\n          return false;\n        }\n\n        slides.className = 'slides';\n        each(storyItems, (i, item) => {\n          item.timeAgo = timeAgo(get(item, 'time'));\n\n          if (currentItem > i) {\n            storyData.items[i].timeAgo = item.timeAgo;\n            storyData.items[i].seen = true;\n            item.seen = true;\n          }\n\n          pointerItems += option('template', 'viewerItemPointer')(i, currentItem, item);\n          htmlItems += option('template', 'viewerItemBody')(i, currentItem, item);\n        });\n\n        slides.innerHTML = htmlItems;\n\n        const video = slides.querySelector('video');\n        const addMuted = function (video) {\n          if (video.muted) {\n            storyViewer.classList.add('muted');\n          } else {\n            storyViewer.classList.remove('muted');\n          }\n        };\n\n        if (video) {\n          video.onwaiting = e => {\n            if (video.paused) {\n              storyViewer.classList.add('paused');\n              storyViewer.classList.add('loading');\n            }\n          };\n\n          video.onplay = () => {\n            addMuted(video);\n\n            storyViewer.classList.remove('stopped');\n            storyViewer.classList.remove('paused');\n            storyViewer.classList.remove('loading');\n          };\n\n          video.onload = video.onplaying = video.oncanplay = () => {\n            addMuted(video);\n\n            storyViewer.classList.remove('loading');\n          };\n\n          video.onvolumechange = () => {\n            addMuted(video);\n          };\n        }\n\n        const storyViewerWrap = document.createElement('div');\n        storyViewerWrap.innerHTML = option('template', 'viewerItem')(storyData, currentItem);\n\n        const storyViewer = storyViewerWrap.firstElementChild;\n\n        storyViewer.className = `story-viewer muted ${className} ${!forcePlay ? 'stopped' : ''} ${option('backButton') ? 'with-back-button' : ''}`;\n\n        storyViewer.setAttribute('data-story-id', storyId);\n        storyViewer.querySelector('.slides-pointers .wrap').innerHTML = pointerItems;\n\n        each(storyViewer.querySelectorAll('.close, .back'), (i, el) => {\n          el.onclick = e => {\n            e.preventDefault();\n            modal.close();\n          };\n        });\n\n        storyViewer.appendChild(slides);\n\n        if (className === 'viewing') {\n          playVideoItem(storyViewer, storyViewer.querySelectorAll(`[data-index=\"${currentItem}\"].active`), false);\n        }\n\n        each(storyViewer.querySelectorAll('.slides-pointers [data-index] > b'), (i, el) => {\n          onAnimationEnd(el, () => {\n            zuck.nextItem(false);\n          });\n        });\n\n        if (className === 'previous') {\n          prepend(modalSlider, storyViewer);\n        } else {\n          modalSlider.appendChild(storyViewer);\n        }\n      };\n\n      const createStoryTouchEvents = function (modalSliderElement) {\n        const modalContainer = query('#zuck-modal');\n        const enableMouseEvents = true;\n\n        const modalSlider = modalSliderElement;\n\n        let position = {};\n        let touchOffset = null;\n        let isScrolling = null;\n        let delta = null;\n        let timer = null;\n        let nextTimer = null;\n\n        const touchStart = function (event) {\n          const storyViewer = query('#zuck-modal .viewing');\n\n          if (event.target.nodeName === 'A') {\n            return;\n          }\n\n          const touches = event.touches ? event.touches[0] : event;\n          const pos = findPos(query('#zuck-modal .story-viewer.viewing'));\n\n          modalContainer.slideWidth = query('#zuck-modal .story-viewer').offsetWidth;\n          modalContainer.slideHeight = query('#zuck-modal .story-viewer').offsetHeight;\n\n          position = {\n            x: pos[0],\n            y: pos[1]\n          };\n\n          const clientX = touches.clientX;\n          const clientY = touches.clientY;\n\n          touchOffset = {\n            x: clientX,\n            y: clientY,\n            time: Date.now(),\n            valid: true\n          };\n\n          if (clientY < 80 || clientY > (modalContainer.slideHeight - 80)) {\n            touchOffset.valid = false;\n          } else {\n            event.preventDefault();\n\n            isScrolling = undefined;\n            delta = {};\n\n            if (enableMouseEvents) {\n              modalSlider.addEventListener('mousemove', touchMove);\n              modalSlider.addEventListener('mouseup', touchEnd);\n              modalSlider.addEventListener('mouseleave', touchEnd);\n            }\n            modalSlider.addEventListener('touchmove', touchMove);\n            modalSlider.addEventListener('touchend', touchEnd);\n\n            if (storyViewer) {\n              storyViewer.classList.add('paused');\n            }\n\n            pauseVideoItem();\n\n            timer = setTimeout(() => {\n              storyViewer.classList.add('longPress');\n            }, 600);\n\n            nextTimer = setTimeout(() => {\n              clearInterval(nextTimer);\n              nextTimer = false;\n            }, 250);\n          }\n        };\n\n        const touchMove = function (event) {\n          const touches = event.touches ? event.touches[0] : event;\n          const clientX = touches.clientX;\n          const clientY = touches.clientY;\n\n          if (touchOffset && touchOffset.valid) {\n            delta = {\n              x: clientX - touchOffset.x,\n              y: clientY - touchOffset.y\n            };\n\n            if (typeof isScrolling === 'undefined') {\n              isScrolling = !!(\n                isScrolling || Math.abs(delta.x) < Math.abs(delta.y)\n              );\n            }\n\n            if (!isScrolling && touchOffset) {\n              event.preventDefault();\n\n              translate(modalSlider, position.x + delta.x, 0, null);\n            }\n          }\n        };\n\n        const touchEnd = function (event) {\n          const storyViewer = query('#zuck-modal .viewing');\n          const lastTouchOffset = touchOffset;\n\n          const duration = touchOffset ? Date.now() - touchOffset.time : undefined;\n          const isValid = (Number(duration) < 300 && Math.abs(delta.x) > 25) || Math.abs(delta.x) > modalContainer.slideWidth / 3;\n          const direction = delta.x < 0;\n\n          const index = direction ? query('#zuck-modal .story-viewer.next') : query('#zuck-modal .story-viewer.previous');\n          const isOutOfBounds = (direction && !index) || (!direction && !index);\n\n          if (touchOffset && !touchOffset.valid) {\n\n          } else {\n            if (delta) {\n              if (!isScrolling) {\n                if (isValid && !isOutOfBounds) {\n                  moveStoryItem(direction);\n                } else {\n                  translate(modalSlider, position.x, 300);\n                }\n              }\n\n              touchOffset = undefined;\n\n              if (enableMouseEvents) {\n                modalSlider.removeEventListener('mousemove', touchMove);\n                modalSlider.removeEventListener('mouseup', touchEnd);\n                modalSlider.removeEventListener('mouseleave', touchEnd);\n              }\n              modalSlider.removeEventListener('touchmove', touchMove);\n              modalSlider.removeEventListener('touchend', touchEnd);\n            }\n\n            const video = zuck.internalData.currentVideoElement;\n\n            if (timer) {\n              clearInterval(timer);\n            }\n\n            if (storyViewer) {\n              playVideoItem(storyViewer, storyViewer.querySelectorAll('.active'), false);\n              storyViewer.classList.remove('longPress');\n              storyViewer.classList.remove('paused');\n            }\n\n            if (nextTimer) {\n              clearInterval(nextTimer);\n              nextTimer = false;\n\n              const navigateItem = function () {\n                if (!direction) {\n                  if (lastTouchOffset.x > window.screen.availWidth / 3 || !option('previousTap')) {\n                    if (option('rtl')) {\n                      zuck.navigateItem('previous', event);\n                    } else {\n                      zuck.navigateItem('next', event);\n                    }\n                  } else {\n                    if (option('rtl')) {\n                      zuck.navigateItem('next', event);\n                    } else {\n                      zuck.navigateItem('previous', event);\n                    }\n                  }\n                }\n              };\n\n              const storyViewerViewing = query('#zuck-modal .viewing');\n\n              if (storyViewerViewing && video) {\n                if (storyViewerViewing.classList.contains('muted')) {\n                  unmuteVideoItem(video, storyViewerViewing);\n                } else {\n                  navigateItem();\n                }\n              } else {\n                navigateItem();\n\n                return false;\n              }\n            }\n          }\n        };\n\n        modalSlider.addEventListener('touchstart', touchStart);\n        if (enableMouseEvents) {\n          modalSlider.addEventListener('mousedown', touchStart);\n        }\n      };\n\n      return {\n        show (storyId, page) {\n          const modalContainer = query('#zuck-modal');\n\n          const callback = function () {\n            modalContent.innerHTML = `<div id=\"zuck-modal-slider-${id}\" class=\"slider\"></div>`;\n\n            const storyData = zuck.data[storyId];\n            const currentItem = storyData.currentItem || 0;\n            const modalSlider = query(`#zuck-modal-slider-${id}`);\n\n            createStoryTouchEvents(modalSlider);\n\n            zuck.internalData.currentStory = storyId;\n            storyData.currentItem = currentItem;\n\n            if (option('backNative')) {\n              window.location.hash = `#!${id}`;\n            }\n\n            const previousItemData = getStoryMorningGlory('previous');\n            if (previousItemData) {\n              createStoryViewer(previousItemData, 'previous');\n            }\n\n            createStoryViewer(storyData, 'viewing', true);\n\n            const nextItemData = getStoryMorningGlory('next');\n            if (nextItemData) {\n              createStoryViewer(nextItemData, 'next');\n            }\n\n            if (option('autoFullScreen')) {\n              modalContainer.classList.add('fullscreen');\n            }\n\n            const tryFullScreen = function () {\n              if (\n                modalContainer.classList.contains('fullscreen') &&\n                  option('autoFullScreen') &&\n                  window.screen.availWidth <= 1024\n              ) {\n                fullScreen(modalContainer);\n              }\n\n              modalContainer.focus();\n            };\n\n            if (option('openEffect')) {\n              const storyEl = query(\n                `#${id} [data-id=\"${storyId}\"] .item-preview`\n              );\n              const pos = findPos(storyEl);\n\n              modalContainer.style.marginLeft = `${pos[0] + storyEl.offsetWidth / 2}px`;\n              modalContainer.style.marginTop = `${pos[1] + storyEl.offsetHeight / 2}px`;\n              modalContainer.style.display = 'block';\n\n              modalContainer.slideWidth = query('#zuck-modal .story-viewer').offsetWidth;\n\n              setTimeout(() => {\n                modalContainer.classList.add('animated');\n              }, 10);\n\n              setTimeout(() => {\n                tryFullScreen();\n              }, 300); // because effects\n            } else {\n              modalContainer.style.display = 'block';\n              modalContainer.slideWidth = query('#zuck-modal .story-viewer').offsetWidth;\n\n              tryFullScreen();\n            }\n\n            option('callbacks', 'onView')(storyId);\n          };\n\n          option('callbacks', 'onOpen')(storyId, callback);\n        },\n        next (unmute) {\n          const callback = function () {\n            const lastStory = zuck.internalData.currentStory;\n            const lastStoryTimelineElement = query(\n              `#${id} [data-id=\"${lastStory}\"]`\n            );\n\n            if (lastStoryTimelineElement) {\n              lastStoryTimelineElement.classList.add('seen');\n\n              zuck.data[lastStory].seen = true;\n              zuck.internalData.seenItems[lastStory] = true;\n\n              saveLocalData('seenItems', zuck.internalData.seenItems);\n              updateStorySeenPosition();\n            }\n\n            const stories = query('#zuck-modal .story-viewer.next');\n            if (!stories) {\n              modal.close();\n            } else {\n              if (option('rtl')) {\n                moveStoryItem(false);\n              } else {\n                moveStoryItem(true);\n              }\n            }\n          };\n\n          option('callbacks', 'onEnd')(\n            zuck.internalData.currentStory,\n            callback\n          );\n        },\n        close () {\n          const modalContainer = query('#zuck-modal');\n\n          const callback = function () {\n            if (option('backNative')) {\n              window.location.hash = '';\n            }\n\n            fullScreen(modalContainer, true);\n\n            if (option('openEffect')) {\n              modalContainer.classList.add('closed');\n            } else {\n              modalContent.innerHTML = '';\n              modalContainer.style.display = 'none';\n            }\n          };\n\n          option('callbacks', 'onClose')(zuck.internalData.currentStory, callback);\n        }\n      };\n    };\n\n    const modal = ZuckModal();\n\n    /* parse functions */\n    const parseItems = function (story, forceUpdate) {\n      const storyId = story.getAttribute('data-id');\n      const storyItems = document.querySelectorAll(`#${id} [data-id=\"${storyId}\"] .items > li`);\n      const items = [];\n\n      if (!option('reactive') || forceUpdate) {\n        each(storyItems, (i, { firstElementChild }) => {\n          const a = firstElementChild;\n          const img = a.firstElementChild;\n\n          const item = {\n            id: a.getAttribute('data-id'),\n            src: a.getAttribute('href'),\n            length: a.getAttribute('data-length'),\n            type: a.getAttribute('data-type'),\n            time: a.getAttribute('data-time'),\n            link: a.getAttribute('data-link'),\n            linkText: a.getAttribute('data-linkText'),\n            preview: img.getAttribute('src')\n          };\n\n          // collect all attributes\n          const all = a.attributes;\n          // exclude the reserved options\n          const reserved = ['data-id', 'href', 'data-length', 'data-type', 'data-time', 'data-link', 'data-linktext'];\n          for (let z = 0; z < all.length; z++) {\n            if (reserved.indexOf(all[z].nodeName) === -1) {\n              item[all[z].nodeName.replace('data-', '')] = all[z].nodeValue;\n            }\n          }\n\n          // destruct the remaining attributes as options\n          items.push(item);\n        });\n\n        zuck.data[storyId].items = items;\n\n        const callback = option('callbacks', 'onDataUpdate');\n        if (callback) {\n          callback(zuck.data, () => {});\n        }\n      }\n    };\n\n    const parseStory = function (story, returnCallback) {\n      const storyId = story.getAttribute('data-id');\n\n      let seen = false;\n\n      if (zuck.internalData.seenItems[storyId]) {\n        seen = true;\n      }\n\n      /*\n      REACT\n      if (seen) {\n        story.classList.add('seen');\n      } else {\n        story.classList.remove('seen');\n      }\n      */\n\n      try {\n        if (!zuck.data[storyId]) {\n          zuck.data[storyId] = {};\n        }\n\n        zuck.data[storyId].id = storyId; // story id\n        zuck.data[storyId].photo = story.getAttribute('data-photo'); // story preview (or user photo)\n        zuck.data[storyId].name = story.querySelector('.name').innerText;\n        zuck.data[storyId].link = story.querySelector('.item-link').getAttribute('href');\n        zuck.data[storyId].lastUpdated = story.getAttribute('data-last-updated');\n        zuck.data[storyId].seen = seen;\n\n        if (!zuck.data[storyId].items) {\n          zuck.data[storyId].items = [];\n          zuck.data[storyId].noItems = true;\n        }\n      } catch (e) {\n        zuck.data[storyId] = {\n          items: []\n        };\n      }\n\n      story.onclick = e => {\n        e.preventDefault();\n\n        modal.show(storyId);\n      };\n\n      const callback = option('callbacks', 'onDataUpdate');\n      if (callback) {\n        callback(zuck.data, () => {});\n      }\n    };\n\n    // BIBLICAL\n    const getStoryMorningGlory = function (what) {\n      // my wife told me to stop singing Wonderwall. I SAID MAYBE.\n\n      const currentStory = zuck.internalData.currentStory;\n      const whatElementYouMean = `${what}ElementSibling`;\n\n      if (currentStory) {\n        const foundStory = query(`#${id} [data-id=\"${currentStory}\"]`)[whatElementYouMean];\n\n        if (foundStory) {\n          const storyId = foundStory.getAttribute('data-id');\n          const data = zuck.data[storyId] || false;\n\n          return data;\n        }\n      }\n\n      return false;\n    };\n\n    const updateStorySeenPosition = function () {\n      each(document.querySelectorAll(`#${id} .story.seen`), (i, el) => {\n        const newData = zuck.data[el.getAttribute('data-id')];\n        const timeline = el.parentNode;\n\n        if (!option('reactive')) {\n          timeline.removeChild(el);\n        }\n\n        zuck.update(newData, true);\n      });\n    };\n\n    const playVideoItem = function (storyViewer, elements, unmute) {\n      const itemElement = elements[1];\n      const itemPointer = elements[0];\n\n      if (!itemElement || !itemPointer) {\n        return false;\n      }\n\n      const cur = zuck.internalData.currentVideoElement;\n      if (cur) {\n        cur.pause();\n      }\n\n      if (itemElement.getAttribute('data-type') === 'video') {\n        const video = itemElement.getElementsByTagName('video')[0];\n        if (!video) {\n          zuck.internalData.currentVideoElement = false;\n\n          return false;\n        }\n\n        const setDuration = function () {\n          if (video.duration) {\n            setVendorVariable(\n              itemPointer.getElementsByTagName('b')[0].style,\n              'AnimationDuration',\n              `${video.duration}s`\n            );\n          }\n        };\n\n        setDuration();\n        video.addEventListener('loadedmetadata', setDuration);\n        zuck.internalData.currentVideoElement = video;\n\n        video.play();\n\n        if (unmute && unmute.target) {\n          unmuteVideoItem(video, storyViewer);\n        }\n      } else {\n        zuck.internalData.currentVideoElement = false;\n      }\n    };\n\n    const pauseVideoItem = function () {\n      const video = zuck.internalData.currentVideoElement;\n      if (video) {\n        try {\n          video.pause();\n        } catch (e) {}\n      }\n    };\n\n    const unmuteVideoItem = function (video, storyViewer) {\n      video.muted = false;\n      video.volume = 1.0;\n      video.removeAttribute('muted');\n      video.play();\n\n      if (video.paused) {\n        video.muted = true;\n        video.play();\n      }\n\n      if (storyViewer) {\n        storyViewer.classList.remove('paused');\n      }\n    };\n\n    /* data functions */\n    const saveLocalData = function (key, data) {\n      try {\n        if (option('localStorage')) {\n          const keyName = `zuck-${id}-${key}`;\n\n          window.localStorage[keyName] = JSON.stringify(data);\n        }\n      } catch (e) {}\n    };\n\n    const getLocalData = function (key) {\n      if (option('localStorage')) {\n        const keyName = `zuck-${id}-${key}`;\n\n        return window.localStorage[keyName]\n          ? JSON.parse(window.localStorage[keyName])\n          : false;\n      } else {\n        return false;\n      }\n    };\n\n    /* api */\n    zuck.data = option('stories') || {};\n    zuck.internalData = {};\n    zuck.internalData.seenItems = getLocalData('seenItems') || {};\n\n    zuck.add = zuck.update = (data, append) => {\n      const storyId = get(data, 'id');\n      const storyEl = query(`#${id} [data-id=\"${storyId}\"]`);\n      const items = get(data, 'items');\n\n      let story;\n      let preview = false;\n\n      if (items[0]) {\n        preview = items[0].preview || '';\n      }\n\n      if (zuck.internalData.seenItems[storyId] === true) {\n        data.seen = true;\n      }\n\n      data.currentPreview = preview;\n\n      if (!storyEl) {\n        const storyItem = document.createElement('div');\n        storyItem.innerHTML = option('template', 'timelineItem')(data);\n\n        story = storyItem.firstElementChild;\n      } else {\n        story = storyEl;\n      }\n\n      if (data.seen === false) {\n        zuck.internalData.seenItems[storyId] = false;\n\n        saveLocalData('seenItems', zuck.internalData.seenItems);\n      }\n\n      story.setAttribute('data-id', storyId);\n      story.setAttribute('data-photo', get(data, 'photo'));\n      story.setAttribute('data-last-updated', get(data, 'lastUpdated'));\n\n      parseStory(story);\n\n      if (!storyEl && !option('reactive')) {\n        if (append) {\n          timeline.appendChild(story);\n        } else {\n          prepend(timeline, story);\n        }\n      }\n\n      each(items, (i, item) => {\n        zuck.addItem(storyId, item, append);\n      });\n\n      if (!append) {\n        updateStorySeenPosition();\n      }\n    };\n\n    zuck.next = () => {\n      modal.next();\n    };\n\n    zuck.remove = (storyId) => {\n      const story = query(`#${id} > [data-id=\"${storyId}\"]`);\n\n      story.parentNode.removeChild(story);\n    };\n\n    zuck.addItem = (storyId, data, append) => {\n      const story = query(`#${id} > [data-id=\"${storyId}\"]`);\n\n      if (!option('reactive')) {\n        const li = document.createElement('li');\n        const el = story.querySelectorAll('.items')[0];\n\n        li.className = get(data, 'seen') ? 'seen' : '';\n        li.setAttribute('data-id', get(data, 'id'));\n\n        // wow, too much jsx\n        li.innerHTML = option('template', 'timelineStoryItem')(data);\n\n        if (append) {\n          el.appendChild(li);\n        } else {\n          prepend(el, li);\n        }\n      }\n\n      parseItems(story);\n    };\n\n    zuck.removeItem = (storyId, itemId) => {\n      const item = query(`#${id} > [data-id=\"${storyId}\"] [data-id=\"${itemId}\"]`);\n\n      if (!option('reactive')) {\n        timeline.parentNode.removeChild(item);\n      }\n    };\n\n    zuck.navigateItem = zuck.nextItem = (direction, event) => {\n      const currentStory = zuck.internalData.currentStory;\n      const currentItem = zuck.data[currentStory].currentItem;\n      const storyViewer = query(`#zuck-modal .story-viewer[data-story-id=\"${currentStory}\"]`);\n      const directionNumber = direction === 'previous' ? -1 : 1;\n\n      if (!storyViewer || storyViewer.touchMove === 1) {\n        return false;\n      }\n\n      const currentItemElements = storyViewer.querySelectorAll(`[data-index=\"${currentItem}\"]`);\n      const currentPointer = currentItemElements[0];\n      const currentItemElement = currentItemElements[1];\n\n      const navigateItem = currentItem + directionNumber;\n      const nextItems = storyViewer.querySelectorAll(`[data-index=\"${navigateItem}\"]`);\n      const nextPointer = nextItems[0];\n      const nextItem = nextItems[1];\n\n      if (storyViewer && nextPointer && nextItem) {\n        const navigateItemCallback = function () {\n          if (direction === 'previous') {\n            currentPointer.classList.remove('seen');\n            currentItemElement.classList.remove('seen');\n          } else {\n            currentPointer.classList.add('seen');\n            currentItemElement.classList.add('seen');\n          }\n\n          currentPointer.classList.remove('active');\n          currentItemElement.classList.remove('active');\n\n          nextPointer.classList.remove('seen');\n          nextPointer.classList.add('active');\n\n          nextItem.classList.remove('seen');\n          nextItem.classList.add('active');\n\n          each(storyViewer.querySelectorAll('.time'), (i, el) => {\n            el.innerText = timeAgo(nextItem.getAttribute('data-time'));\n          });\n\n          zuck.data[currentStory].currentItem = zuck.data[currentStory].currentItem + directionNumber;\n\n          playVideoItem(storyViewer, nextItems, event);\n        };\n\n        let callback = option('callbacks', 'onNavigateItem');\n        callback = !callback ? option('callbacks', 'onNextItem') : option('callbacks', 'onNavigateItem');\n\n        callback(currentStory, nextItem.getAttribute('data-story-id'), navigateItemCallback);\n      } else if (storyViewer) {\n        if (direction !== 'previous') {\n          modal.next(event);\n        }\n      }\n    };\n\n    const init = function () {\n      if (timeline && timeline.querySelector('.story')) {\n        each(timeline.querySelectorAll('.story'), (storyIndex, story) => {\n          parseStory(story);\n        });\n      }\n\n      if (option('backNative')) {\n        if (window.location.hash === `#!${id}`) {\n          window.location.hash = '';\n        }\n\n        window.addEventListener(\n          'popstate',\n          e => {\n            if (window.location.hash !== `#!${id}`) {\n              window.location.hash = '';\n            }\n          },\n          false\n        );\n      }\n\n      if (!option('reactive')) {\n        const seenItems = getLocalData('seenItems');\n\n        each(Object.keys(seenItems), (keyIndex, key) => {\n          if (zuck.data[key]) {\n            zuck.data[key].seen = seenItems[key];\n          }\n        });\n      }\n\n      each(option('stories'), (itemKey, item) => {\n        zuck.add(item, true);\n      });\n\n      updateStorySeenPosition();\n\n      const avatars = option('avatars') ? 'user-icon' : 'story-preview';\n      const list = option('list') ? 'list' : 'carousel';\n      const rtl = option('rtl') ? 'rtl' : '';\n\n      timeline.className += ` stories ${avatars} ${list} ${(`${option('skin')}`).toLowerCase()} ${rtl}`;\n\n      return zuck;\n    };\n\n    return init();\n  };\n\n  /* Helpers */\n  ZuckJS.buildTimelineItem = (id, photo, name, link, lastUpdated, items) => {\n    const timelineItem = {\n      id,\n      photo,\n      name,\n      link,\n      lastUpdated,\n      items: []\n    };\n\n    each(items, (itemIndex, itemArgs) => {\n      timelineItem.items.push(ZuckJS.buildStoryItem.apply(ZuckJS, itemArgs));\n    });\n\n    return timelineItem;\n  };\n\n  ZuckJS.buildStoryItem = (id, type, length, src, preview, link, linkText, seen, time) => {\n    return {\n      id,\n      type,\n      length,\n      src,\n      preview,\n      link,\n      linkText,\n      seen,\n      time\n    };\n  };\n\n  /* Legacy code */\n  ZuckJS.buildItem = ZuckJS.buildStoryItem;\n\n  // CommonJS and Node.js module support.\n  if (typeof exports !== 'undefined') {\n    // Support Node.js specific `module.exports` (which can be a function)\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = ZuckJS;\n    }\n    // But always support CommonJS module 1.1.1 spec (`exports` cannot be a function)\n    exports.ZuckJS = ZuckJS;\n  } else {\n    /* Too much zuck zuck to maintain legacy */\n    window.ZuckitaDaGalera = window.Zuck = ZuckJS;\n  }\n\n  return ZuckJS;\n})(window || {});\n","import $ from 'jquery';\nimport Zuck from 'zuck.js';\nimport './style.scss';\n\n$(document).ready(function () {\n    const stories = $('#stories');\n\n    if (stories.length && $(window).width() > 1024) {\n        stories.niceScroll({\n            cursorcolor: '#bdbdbd',\n            cursorwidth: '5px',\n            cursorborder: 'none',\n            emulatetouch: true,\n            cursordragontouch: true,\n            scrollbarid: 'wp-story-scrollbar',\n        });\n    }\n\n    const storyBody = $('body');\n\n    const buildStory = function (data) {\n        new Zuck('stories', {\n            backNative: false,\n            previousTap: true,\n            autoFullScreen: true,\n            skin: 'snapgram',\n            avatars: true,\n            list: false,\n            cubeEffect: false,\n            openEffect: false,\n            paginationArrows: false,\n            rtl: false,\n            localStorage: true,\n            stories: data,\n            callbacks: {\n                onOpen(storyId, callback) {\n                    callback();\n                    storyBody.addClass('wp-story');\n                },\n                onClose(storyId, callback) {\n                    callback();\n                    storyBody.removeClass('wp-story');\n                },\n                onNavigateItem(storyId, nextStoryId, callback) {\n                    callback();\n                },\n            },\n            template: {\n                viewerItemBody(index, currentIndex, item) {\n                    return `<div\n                            class=\"item ${item.link ? 'linked-story' : ''} ${\n                        item.seen === true ? 'seen' : ''\n                    } ${currentIndex === index ? 'active' : ''}\"\n                            data-time=\"${item.time}\" data-type=\"${\n                        item.type\n                    }\" data-index=\"${index}\" data-item-id=\"${item.id}\">\n                            ${\n                                item.type === 'video'\n                                    ? `<video class=\"media\" muted webkit-playsinline playsinline preload=\"auto\" src=\"${item.src}\" ${item.type}></video>\n                                            <b class=\"muted\">${wpStoryObject.lang.unmute}</b>`\n                                    : `<img loading=\"auto\" class=\"media\" src=\"${item.src}\" ${item.type} /> `\n                            }\n                                        ${\n                                            item.link\n                                                ? `<a class=\"wp-story-premium-tip tip link\" href=\"${\n                                                      item.link\n                                                  }\" rel=\"noopener\" target=\"${\n                                                      item.new_tab\n                                                  }\">\n                                            ${\n                                                !item.linkText ||\n                                                item.linkText === ''\n                                                    ? wpStoryObject.lang\n                                                          .visitLink\n                                                    : item.linkText\n                                            }\n                                            </a>`\n                                                : ''\n                                        }\n                            </div>`;\n                },\n                viewerItem(item) {\n                    return `<div class=\"story-viewer\">\n                    <div class=\"head\">\n                      <div class=\"left\">\n                        <a class=\"back\"><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path fill=\"#ffffff\" d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/></svg></a>\n                        <span class=\"item-preview\">\n                          <img lazy=\"eager\" class=\"profilePhoto\"\n                          src=\"${item.photo}\" alt=\"Story Item\"\n                          />\n                        </span>\n                        <div class=\"info\">\n                          <strong class=\"name\">${item.name}</strong>\n                          <span class=\"time\">${item.timeAgo}</span>\n                        </div>\n                      </div>\n\n                      <div class=\"right\">\n                        <span class=\"time\">${item.timeAgo}</span>\n                        <span class=\"loading\"></span>\n                        <a class=\"close\" tabIndex=\"2\"><svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path fill=\"#ffffff\" d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/></svg></a>\n                      </div>\n                    </div>\n\n                    <div class=\"slides-pointers\">\n                      <div class=\"wrap\"></div>\n                    </div>\n                  </div>`;\n                },\n            },\n            language: wpStoryObject.lang,\n        });\n    };\n\n    if (stories.length) {\n        fetch(`${wpStoryObject.homeUrl}/wp-json/wp-story/v1/free`)\n            .then((res) => res.json())\n            .then((data) => {\n                buildStory(data);\n            })\n            .catch((err) => {\n                throw err;\n            });\n    }\n});\n"],"sourceRoot":""}